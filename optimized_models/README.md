# 優化模型使用說明

## 優化內容

### 1. PCA降維
- 診斷文本嵌入: 768維 → 30維
- 主訴文本嵌入: 768維 → 30維
- 保留約70-80%的變異量

### 2. 類別平衡處理
- 對文本特徵使用SMOTE過採樣
- 所有模型使用class_weight='balanced'
- 針對類別不平衡問題優化

### 3. 模型參數調優
- Random Forest: 增加樹數量，調整深度
- SVM: 添加類別權重平衡
- Neural Network: 調整網路結構和正則化

## 預期改善效果

1. **文本特徵F1分數提升**: 特別是y和z特徵組合
2. **降低過擬合**: 通過PCA降維減少維度災難
3. **改善召回率**: 通過SMOTE和class_weight處理類別不平衡
4. **提高訓練效率**: 較低維度的特徵空間

## 使用方式

```python
import joblib
import numpy as np

# 載入優化模型
model = joblib.load('optimized_models/a_y_RF_optimized.pkl')

# 注意：輸入數據需要經過相同的預處理
# 1. 結構化數據需要標準化
# 2. 文本數據需要PCA降維到相同維度
```

## 重要提醒

使用優化模型前，確保：
1. 新數據經過相同的PCA轉換
2. 結構化數據使用相同的標準化器
3. 特徵順序與訓練時一致
